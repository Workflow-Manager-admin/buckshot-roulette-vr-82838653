{"is_source_file": true, "format": "Python", "description": "This file defines FastAPI API routes for managing game lobbies in a buckshot roulette game, including creating, joining, starting a game, and retrieving lobby details.", "external_files": ["fastapi import APIRouter, HTTPException", "pydantic import BaseModel, Field", "typing import List"], "external_methods": ["APIRouter()", "HTTPException", "BaseModel", "Field"], "published": ["router", "LobbyCreateRequest", "Lobby"], "classes": [{"name": "LobbyCreateRequest", "description": "Data model for creating a lobby, including host ID and maximum players."}, {"name": "Lobby", "description": "Data model representing the state of a lobby, including lobby ID, host ID, list of players, and max players."}], "methods": [{"name": "create_lobby(req: LobbyCreateRequest)", "description": "Creates a new lobby with specified host ID and max players, assigns a lobby ID, and stores it in memory.", "scope": "", "scopeKind": ""}, {"name": "join_lobby(lobby_id: str, user_id: str)", "description": "Allows a user to join an existing lobby if it exists and has space.", "scope": "", "scopeKind": ""}, {"name": "start_game(lobby_id: str)", "description": "Starts a game in a specified lobby, changing its state to 'started'.", "scope": "", "scopeKind": ""}, {"name": "get_lobby(lobby_id: str)", "description": "Retrieves the current state and details of a specified lobby.", "scope": "", "scopeKind": ""}], "calls": ["APIRouter()", "HTTPException", "BaseModel", "Field"], "search-terms": ["FastAPI lobby management", "API router for game", "game lobby endpoints", "buckshot roulette"], "state": 2, "file_id": 6, "knowledge_revision": 20, "git_revision": "", "revision_history": [{"14": ""}, {"20": ""}], "ctags": [{"_type": "tag", "name": "Lobby", "path": "/home/kavia/workspace/code-generation/buckshot-roulette-vr-82838653/main_backend/src/api/game.py", "pattern": "/^class Lobby(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "LobbyCreateRequest", "path": "/home/kavia/workspace/code-generation/buckshot-roulette-vr-82838653/main_backend/src/api/game.py", "pattern": "/^class LobbyCreateRequest(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "create_lobby", "path": "/home/kavia/workspace/code-generation/buckshot-roulette-vr-82838653/main_backend/src/api/game.py", "pattern": "/^def create_lobby(req: LobbyCreateRequest):$/", "language": "Python", "kind": "function", "signature": "(req: LobbyCreateRequest)"}, {"_type": "tag", "name": "games", "path": "/home/kavia/workspace/code-generation/buckshot-roulette-vr-82838653/main_backend/src/api/game.py", "pattern": "/^games = {}$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "get_lobby", "path": "/home/kavia/workspace/code-generation/buckshot-roulette-vr-82838653/main_backend/src/api/game.py", "pattern": "/^def get_lobby(lobby_id: str):$/", "language": "Python", "kind": "function", "signature": "(lobby_id: str)"}, {"_type": "tag", "name": "host_id", "path": "/home/kavia/workspace/code-generation/buckshot-roulette-vr-82838653/main_backend/src/api/game.py", "pattern": "/^    host_id: str = Field(..., description=\"Host user id\")$/", "language": "Python", "typeref": "typename:str", "kind": "variable", "scope": "LobbyCreateRequest", "scopeKind": "class"}, {"_type": "tag", "name": "join_lobby", "path": "/home/kavia/workspace/code-generation/buckshot-roulette-vr-82838653/main_backend/src/api/game.py", "pattern": "/^def join_lobby(lobby_id: str, user_id: str):$/", "language": "Python", "kind": "function", "signature": "(lobby_id: str, user_id: str)"}, {"_type": "tag", "name": "lobbies", "path": "/home/kavia/workspace/code-generation/buckshot-roulette-vr-82838653/main_backend/src/api/game.py", "pattern": "/^lobbies = {}$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "max_players", "path": "/home/kavia/workspace/code-generation/buckshot-roulette-vr-82838653/main_backend/src/api/game.py", "pattern": "/^    max_players: int = Field(..., description=\"Max number of players in the lobby\")$/", "language": "Python", "typeref": "typename:int", "kind": "variable", "scope": "LobbyCreateRequest", "scopeKind": "class"}, {"_type": "tag", "name": "router", "path": "/home/kavia/workspace/code-generation/buckshot-roulette-vr-82838653/main_backend/src/api/game.py", "pattern": "/^router = APIRouter()$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "start_game", "path": "/home/kavia/workspace/code-generation/buckshot-roulette-vr-82838653/main_backend/src/api/game.py", "pattern": "/^def start_game(lobby_id: str):$/", "language": "Python", "kind": "function", "signature": "(lobby_id: str)"}], "hash": "6b44ed664a3998c83773122738971030", "format-version": 4, "code-base-name": "main_backend", "filename": "main_backend/src/api/game.py", "fields": [{"name": "games = {}", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "str host_id", "scope": "LobbyCreateRequest", "scopeKind": "class", "description": "unavailable"}, {"name": "lobbies = {}", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "int max_players", "scope": "LobbyCreateRequest", "scopeKind": "class", "description": "unavailable"}, {"name": "router = APIRouter()", "scope": "", "scopeKind": "", "description": "unavailable"}]}