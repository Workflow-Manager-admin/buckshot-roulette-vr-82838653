{"is_source_file": true, "format": "Python", "description": "This file sets up WebSocket communication for a game application, managing WebSocket connections, and defining routes for real-time game state synchronization and chat functionality using FastAPI.", "external_files": ["fastapi", "typing"], "external_methods": ["fastapi.WebSocket", "fastapi.WebSocketDisconnect", "fastapi.APIRouter", "fastapi.FastAPI", "typing.Dict", "typing.List", "typing.Any"], "published": ["manager", "register_ws_routes"], "classes": [{"name": "ConnectionManager", "description": "Handles WebSocket connection management, including connecting, disconnecting, and broadcasting messages."}], "methods": [{"name": "connect(self, websocket: WebSocket, channel: str)", "description": "Accepts a WebSocket connection and adds it to the channel.", "scope": "ConnectionManager", "scopeKind": "class"}, {"name": "disconnect(self, websocket: WebSocket, channel: str)", "description": "Removes a WebSocket connection from the channel.", "scope": "ConnectionManager", "scopeKind": "class"}, {"name": "broadcast(self, channel: str, message: Any)", "description": "Sends a message to all WebSocket connections in a specified channel.", "scope": "ConnectionManager", "scopeKind": "class"}, {"name": "__init__(self)", "scope": "ConnectionManager", "scopeKind": "class", "description": "unavailable"}, {"name": "register_ws_routes(app: FastAPI)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "ws_chat_endpoint(websocket: WebSocket)", "scope": "register_ws_routes", "scopeKind": "function", "description": "unavailable"}, {"name": "ws_game_endpoint(websocket: WebSocket)", "scope": "register_ws_routes", "scopeKind": "function", "description": "unavailable"}], "calls": ["websocket.accept()", "manager.connect(websocket, channel)", "manager.disconnect(websocket, channel)", "manager.broadcast(channel, message)", "websocket.receive_json()", "websocket.send_json(message)"], "search-terms": ["WebSocket", "FastAPI WebSocket routes", "game state sync", "chat WebSocket", "connection management"], "state": 2, "file_id": 7, "knowledge_revision": 16, "git_revision": "", "ctags": [{"_type": "tag", "name": "ConnectionManager", "path": "/home/kavia/workspace/code-generation/buckshot-roulette-vr-82838653/main_backend/src/api/ws.py", "pattern": "/^class ConnectionManager:$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "__init__", "path": "/home/kavia/workspace/code-generation/buckshot-roulette-vr-82838653/main_backend/src/api/ws.py", "pattern": "/^    def __init__(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "ConnectionManager", "scopeKind": "class"}, {"_type": "tag", "name": "broadcast", "path": "/home/kavia/workspace/code-generation/buckshot-roulette-vr-82838653/main_backend/src/api/ws.py", "pattern": "/^    async def broadcast(self, channel: str, message: Any):$/", "language": "Python", "kind": "member", "signature": "(self, channel: str, message: Any)", "scope": "ConnectionManager", "scopeKind": "class"}, {"_type": "tag", "name": "connect", "path": "/home/kavia/workspace/code-generation/buckshot-roulette-vr-82838653/main_backend/src/api/ws.py", "pattern": "/^    async def connect(self, websocket: WebSocket, channel: str):$/", "language": "Python", "kind": "member", "signature": "(self, websocket: WebSocket, channel: str)", "scope": "ConnectionManager", "scopeKind": "class"}, {"_type": "tag", "name": "disconnect", "path": "/home/kavia/workspace/code-generation/buckshot-roulette-vr-82838653/main_backend/src/api/ws.py", "pattern": "/^    def disconnect(self, websocket: WebSocket, channel: str):$/", "language": "Python", "kind": "member", "signature": "(self, websocket: WebSocket, channel: str)", "scope": "ConnectionManager", "scopeKind": "class"}, {"_type": "tag", "name": "manager", "path": "/home/kavia/workspace/code-generation/buckshot-roulette-vr-82838653/main_backend/src/api/ws.py", "pattern": "/^manager = ConnectionManager()$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "register_ws_routes", "path": "/home/kavia/workspace/code-generation/buckshot-roulette-vr-82838653/main_backend/src/api/ws.py", "pattern": "/^def register_ws_routes(app: FastAPI):$/", "language": "Python", "kind": "function", "signature": "(app: FastAPI)"}, {"_type": "tag", "name": "ws_chat_endpoint", "path": "/home/kavia/workspace/code-generation/buckshot-roulette-vr-82838653/main_backend/src/api/ws.py", "pattern": "/^    async def ws_chat_endpoint(websocket: WebSocket):$/", "file": true, "language": "Python", "kind": "function", "signature": "(websocket: WebSocket)", "scope": "register_ws_routes", "scopeKind": "function"}, {"_type": "tag", "name": "ws_game_endpoint", "path": "/home/kavia/workspace/code-generation/buckshot-roulette-vr-82838653/main_backend/src/api/ws.py", "pattern": "/^    async def ws_game_endpoint(websocket: WebSocket):$/", "file": true, "language": "Python", "kind": "function", "signature": "(websocket: WebSocket)", "scope": "register_ws_routes", "scopeKind": "function"}], "hash": "9474b2191b651007234f878ae49fea33", "format-version": 4, "code-base-name": "main_backend", "filename": "main_backend/src/api/ws.py", "fields": [{"name": "manager = ConnectionManager()", "scope": "", "scopeKind": "", "description": "unavailable"}], "revision_history": [{"16": ""}]}