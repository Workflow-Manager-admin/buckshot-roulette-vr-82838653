{"is_source_file": true, "format": "Python", "description": "This Python source file defines a WebSocket connection manager and route registration functions for a FastAPI application, intended for handling real-time game and chat events via WebSocket endpoints.", "external_files": ["fastapi", "typing"], "external_methods": ["FastAPI()", "WebSocket.accept()", "WebSocket.disconnect()", "WebSocket.send_json()", "WebSocket.receive_json()", "WebSocketDisconnect()"], "published": ["manager", "register_ws_routes"], "classes": [{"name": "ConnectionManager", "description": "Manages WebSocket connections, handling connect, disconnect, and message broadcasting for different channels."}], "methods": [{"name": "connect(self, websocket: WebSocket, channel: str)", "description": "Accepts a WebSocket connection and adds it to the specified channel.", "scope": "ConnectionManager", "scopeKind": "class"}, {"name": "disconnect(self, websocket: WebSocket, channel: str)", "description": "Removes a WebSocket from the specified channel.", "scope": "ConnectionManager", "scopeKind": "class"}, {"name": "broadcast(self, channel: str, message: Any)", "description": "Sends a JSON message to all WebSocket connections in a given channel.", "scope": "ConnectionManager", "scopeKind": "class"}, {"name": "__init__(self)", "scope": "ConnectionManager", "scopeKind": "class", "description": "unavailable"}, {"name": "register_ws_routes(app: FastAPI)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "ws_chat_endpoint(websocket: WebSocket)", "scope": "register_ws_routes", "scopeKind": "function", "description": "unavailable"}, {"name": "ws_game_endpoint(websocket: WebSocket)", "scope": "register_ws_routes", "scopeKind": "function", "description": "unavailable"}], "calls": ["websocket.accept()", "websocket.receive_json()", "ws.send_json()", "manager.connect()", "manager.disconnect()", "manager.broadcast()", "app.websocket()"], "search-terms": ["WebSocket", "FastAPI WebSocket routes", "ConnectionManager", "WebSocketDisconnect", "chat", "game", "real-time communication"], "state": 2, "file_id": 7, "knowledge_revision": 23, "git_revision": "d9a533bce3de79e7eec8980b978a9e568fec3425", "revision_history": [{"16": ""}, {"23": "d9a533bce3de79e7eec8980b978a9e568fec3425"}], "ctags": [{"_type": "tag", "name": "ConnectionManager", "path": "/home/kavia/workspace/code-generation/buckshot-roulette-vr-82838653/main_backend/src/api/ws.py", "pattern": "/^class ConnectionManager:$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "__init__", "path": "/home/kavia/workspace/code-generation/buckshot-roulette-vr-82838653/main_backend/src/api/ws.py", "pattern": "/^    def __init__(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "ConnectionManager", "scopeKind": "class"}, {"_type": "tag", "name": "broadcast", "path": "/home/kavia/workspace/code-generation/buckshot-roulette-vr-82838653/main_backend/src/api/ws.py", "pattern": "/^    async def broadcast(self, channel: str, message: Any):$/", "language": "Python", "kind": "member", "signature": "(self, channel: str, message: Any)", "scope": "ConnectionManager", "scopeKind": "class"}, {"_type": "tag", "name": "connect", "path": "/home/kavia/workspace/code-generation/buckshot-roulette-vr-82838653/main_backend/src/api/ws.py", "pattern": "/^    async def connect(self, websocket: WebSocket, channel: str):$/", "language": "Python", "kind": "member", "signature": "(self, websocket: WebSocket, channel: str)", "scope": "ConnectionManager", "scopeKind": "class"}, {"_type": "tag", "name": "disconnect", "path": "/home/kavia/workspace/code-generation/buckshot-roulette-vr-82838653/main_backend/src/api/ws.py", "pattern": "/^    def disconnect(self, websocket: WebSocket, channel: str):$/", "language": "Python", "kind": "member", "signature": "(self, websocket: WebSocket, channel: str)", "scope": "ConnectionManager", "scopeKind": "class"}, {"_type": "tag", "name": "manager", "path": "/home/kavia/workspace/code-generation/buckshot-roulette-vr-82838653/main_backend/src/api/ws.py", "pattern": "/^manager = ConnectionManager()$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "register_ws_routes", "path": "/home/kavia/workspace/code-generation/buckshot-roulette-vr-82838653/main_backend/src/api/ws.py", "pattern": "/^def register_ws_routes(app: FastAPI):$/", "language": "Python", "kind": "function", "signature": "(app: FastAPI)"}, {"_type": "tag", "name": "ws_chat_endpoint", "path": "/home/kavia/workspace/code-generation/buckshot-roulette-vr-82838653/main_backend/src/api/ws.py", "pattern": "/^    async def ws_chat_endpoint(websocket: WebSocket):$/", "file": true, "language": "Python", "kind": "function", "signature": "(websocket: WebSocket)", "scope": "register_ws_routes", "scopeKind": "function"}, {"_type": "tag", "name": "ws_game_endpoint", "path": "/home/kavia/workspace/code-generation/buckshot-roulette-vr-82838653/main_backend/src/api/ws.py", "pattern": "/^    async def ws_game_endpoint(websocket: WebSocket):$/", "file": true, "language": "Python", "kind": "function", "signature": "(websocket: WebSocket)", "scope": "register_ws_routes", "scopeKind": "function"}], "hash": "58384407a398a35be9a1f53a67c27b0f", "format-version": 4, "code-base-name": "main_backend", "filename": "main_backend/src/api/ws.py", "fields": [{"name": "manager = ConnectionManager()", "scope": "", "scopeKind": "", "description": "unavailable"}]}